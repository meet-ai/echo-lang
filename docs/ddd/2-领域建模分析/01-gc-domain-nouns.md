# GC领域名词分析

## 1. 核心业务概念（实体候选）

| 名词       | 身份标识        | 描述                   | 所属上下文   |
| ---------- | --------------- | ---------------------- | ------------ |
| 堆         | 堆ID/进程ID     | 应用程序的内存空间     | 核心GC上下文 |
| 对象       | 对象地址/对象ID | 分配在堆上的数据结构   | 核心GC上下文 |
| 垃圾回收器 | GC实例ID        | 执行垃圾回收的组件     | 核心GC上下文 |
| 标记位图   | 位图地址        | 记录对象标记状态的位图 | 核心GC上下文 |
| 分配器     | 分配器类型      | 负责对象分配的组件     | 核心GC上下文 |

## 2. 策略与配置（值对象候选）

| 名词         | 构成属性                       | 不变性 | 示例                      |
| ------------ | ------------------------------ | ------ | ------------------------- |
| GC配置       | 触发阈值、暂停目标、堆大小限制 | 是     | 触发阈值0.7，目标暂停10ms |
| 工作负载特征 | 分配率、对象寿命分布、并发度   | 否     | 事务型：高分配率，短寿命  |
| 性能指标     | 暂停时间、吞吐量、内存开销     | 否     | P95暂停5ms，吞吐量损失3%  |
| 规则条件     | 运算符、阈值、指标类型         | 是     | 暂停时间 > 10ms           |
| PID参数      | Kp、Ki、Kd、输出限制           | 是     | Kp=0.1，Ki=0.05，Kd=0.01  |

## 3. 过程与状态（实体/值对象候选）

| 名词       | 身份标识      | 描述                     | 所属上下文     |
| ---------- | ------------- | ------------------------ | -------------- |
| GC周期     | 周期ID/时间戳 | 一次完整的GC执行过程     | 核心GC上下文   |
| 标记阶段   | 阶段ID        | GC中的并发标记过程       | 核心GC上下文   |
| 清扫阶段   | 阶段ID        | GC中的并发清扫过程       | 核心GC上下文   |
| 写屏障     | 屏障ID        | 维护GC不变性的内存屏障   | 核心GC上下文   |
| 自适应决策 | 决策ID        | 根据指标调整GC策略的过程 | 自适应GC上下文 |

## 4. 模块与扩展（实体候选）

| 名词     | 身份标识      | 描述                   | 所属上下文     |
| -------- | ------------- | ---------------------- | -------------- |
| GC模块   | 模块ID/版本号 | 可插拔的GC增强功能     | 增强GC上下文   |
| 分代模块 | 模块ID        | 实现分代垃圾回收的模块 | 增强GC上下文   |
| 增量模块 | 模块ID        | 实现增量标记的模块     | 增强GC上下文   |
| 压缩模块 | 模块ID        | 实现内存压缩的模块     | 增强GC上下文   |
| 规则引擎 | 引擎实例ID    | 执行自适应规则的组件   | 自适应GC上下文 |

## 5. 监控与诊断（值对象候选）

| 名词     | 构成属性                         | 不变性 | 示例                       |
| -------- | -------------------------------- | ------ | -------------------------- |
| GC统计   | 回收对象数、回收字节数、执行时间 | 否     | 回收1000个对象，50MB       |
| 内存布局 | 堆大小、使用大小、碎片率         | 否     | 堆1GB，使用700MB，碎片10%  |
| 分配统计 | 分配速率、对象大小分布           | 否     | 分配率10MB/s，平均对象1KB  |
| 性能剖面 | CPU使用率、缓存命中率            | 否     | GC CPU 5%，缓存命中95%     |
| 调试信息 | 栈跟踪、对象图、状态转储         | 否     | 包含完整调用栈和对象引用图 |

## 6. 关键关联

### 6.1 核心GC关联
- **堆** 包含多个 **对象**
- **垃圾回收器** 操作 **堆** 进行回收
- **标记位图** 记录 **对象** 的标记状态
- **分配器** 在 **堆** 中分配 **对象**
- **GC周期** 包含 **标记阶段** 和 **清扫阶段**
- **写屏障** 保护 **对象** 的引用完整性

### 6.2 自适应关联
- **自适应决策** 基于 **性能指标** 调整 **GC配置**
- **规则引擎** 执行 **规则条件** 触发 **自适应决策**
- **PID参数** 控制 **性能指标** 的调整过程

### 6.3 模块化关联
- **GC模块** 增强 **垃圾回收器** 的功能
- **分代模块** 管理 **对象** 的代际生命周期
- **增量模块** 将 **标记阶段** 分散执行
- **压缩模块** 优化 **堆** 的内存布局

## 7. 领域概念演化

### 7.1 从技术概念到业务概念
| 技术概念   | 业务概念 | 业务价值                           |
| ---------- | -------- | ---------------------------------- |
| 标记-清扫  | 内存整理 | 释放无用内存，防止内存泄漏         |
| 并发标记   | 并行清理 | 减少应用暂停，提高响应性           |
| 写屏障     | 引用保护 | 保证回收正确性，维护数据一致性     |
| 自适应调整 | 智能优化 | 根据应用特征自动调优，降低运维成本 |

### 7.2 概念层次结构
```
GC领域
├── 核心概念
│   ├── 堆（Heap）：内存管理空间
│   ├── 对象（Object）：内存分配单元
│   └── 垃圾回收器（GC）：内存管理器
├── 过程概念
│   ├── GC周期（GCCycle）：回收执行过程
│   ├── 标记阶段（MarkPhase）：对象标记过程
│   └── 清扫阶段（SweepPhase）：内存回收过程
├── 策略概念
│   ├── GC配置（GCConfig）：回收策略配置
│   ├── 工作负载特征（Workload）：应用特征描述
│   └── 性能指标（Metrics）：回收效果度量
└── 扩展概念
    ├── GC模块（GCModule）：功能增强单元
    ├── 规则引擎（RuleEngine）：决策执行引擎
    └── 自适应决策（AdaptiveDecision）：策略调整过程
```
